<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Admin Login</title>
    <link rel="stylesheet" href="../adminAssets/css/style.css">
    <link rel="stylesheet" href="../adminAssets/css/media.css">

</head>

<body>


    {{>admin/header}}

    <div id="content_body_hc" class="content_body_hc">
        {{>admin/sidebar}}


        <div class="content_body" id="content_body">



            <div class="wrapper_content_body">



                <div class="section_head_titile">
                    <h2>Manage new user</h2>
                    <ul>
                        <li> <i class="fa fa-home"> </i> Home</li>
                        <li><span>></span></li>
                        <li>Manage new user</li>
                    </ul>
                </div>

                {{#if passQuery.result}}
                <div class="alert alert-{{passQuery.result}}">
                    Your excution for {{passQuery.type}} has been {{passQuery.result}}
                </div>
                {{/if}}


                <div class="type_pages_list">
                    <div class="row rmr">

                        <div class="col-lg-3 col-xs-12 col-sm-6">
                            <div class="itemselect_filter green">
                                <a href="addNewUser"><i class="fa fa-list"></i> Add New User </a>
                            </div>
                        </div>

                        <div class="col-lg-3 col-xs-12 col-sm-6">
                            <div class="itemselect_filter green">
                                <a href="manageUsers"><i class="fa fa-list"></i> All users </a>
                            </div>
                        </div>


                        <div class="col-lg-3 col-xs-12 col-sm-6">
                            <div class="itemselect_filter green">
                                <a href="?filtter=true&type=active"><i class="fa fa-list"></i> Un Blocked Only </a>
                            </div>
                        </div>


                        <div class="col-lg-3 col-xs-12 col-sm-6">
                            <div class="itemselect_filter red">
                                <a href="?filtter=true&type=block"><i class="fa fa-list"></i> Blocked Only</a>
                            </div>
                        </div>


                    </div>
                </div>

                <div class="type_pages_list">



                    <div class="row rmr">

                        <div class="col-lg-1 col-xs-3 height_control">
                            <input type="checkbox" class="check_checkbox" id="checkall">
                        </div>


                        <div class="col-lg-2 col-xs-12 col-sm-4">
                            <div class="itemselect_filter red">
                                <a href="javascript:;" onclick="actionData('DELETE','usersTable','action_users')">
                                    <i class="fa fa-trash"></i> DELETE
                                </a>
                            </div>
                        </div>

                        <div class="col-lg-2 col-xs-12 col-sm-4">
                            <div class="itemselect_filter warning">
                                <a href="javascript:;" onclick="actionData('block','usersTable','action_users')">
                                    <i class="fa fa-lock"></i> BLOCK
                                </a>
                            </div>
                        </div>


                        <div class="col-lg-2 col-xs-12 col-sm-4">
                            <div class="itemselect_filter green">
                                <a href="javascript:;" onclick="actionData('active','usersTable','action_users')">
                                    <i class="fa fa-unlock"></i>UN BLOCK
                                </a>
                            </div>
                        </div>



                    </div>
                </div>


                <div class="table_data_check">
                    <div class="table_head_sec">
                        <h2>Users Data List</h2>
                    </div>


                    <div class="table_overflow">
                        <form action="/admin/userManage" id="usersTable" method="post">
                            <table id="table_filter" class="tablenormal">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th class="sort_table_row">Full Name</th>
                                        <th class="sort_table_row">Email</th>
                                        <th class="sort_table_row">Phone</th>
                                        <th class="sort_table_row">Role</th>
                                        <th class="sort_table_row">Profile</th>
                                        <th class="sort_table_row">Last Loggin</th>
                                        <th class="sort_table_row">Location</th>
                                        <th class="sort_table_row">Status</th>
                                    </tr>
                                </thead>
                                <tbody>

                                    {{#each passQuery.product}}
                                    <tr>
                                        <td><input type="checkbox" name="user_id[]" value="{{_id}}"
                                                class="check_select"></td>

                                        <td>{{name}}</td>
                                        <td>{{email}}</td>
                                        <td>{{phone}} </td>
                                        <td>{{role}}</td>
                                        <td>
                                            <img src="../user_profile/{{dp}}" width="80px" alt="">
                                        </td>
                                        <td>{{lastLoggin}}</td>
                                        <td>{{location}}</td>
                                        <td>{{block}}</td>
                                    </tr>
                                    {{/each}}
                                </tbody>
                            </table>
                            <input type="hidden" id="action_users" name="action_users">

                        </form>
                    </div>
                    <!-- <p class="showing_data">Showing 1 to 3 of 3 entries</p>
                    <ul class="pagination_table">
                        <li><a href="">← Previous</a></li>
                        <li><a href="">1</a></li>
                        <li><a href="">Next → </a></li>
                    </ul> -->
                </div>


            </div>
        </div>
    </div>



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://kit.fontawesome.com/6f707f910a.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

    <link rel="stylesheet" type="text/css" href="../plugin/table/datatables.css">
    <script type="text/javascript" charset="utf8" src="../plugin/table/datatables.js"></script>

    <script>
        $(document).ready(function () {


            $('#table_filter').DataTable({
                "processing": true,
                "language": {
                    "processing": "DataTables is currently busy"
                },
                paging: true,
                "aaSorting": [
                    [3, 'desc']
                ],
                'aoColumnDefs': [{
                    'bSortable': false,
                    'info': true,
                    "paging": true,
                    'aTargets': [0, 1, 2,],
                    'pageLength': 10
                }]
            });
        })

        function countTable(tableid, count) {

        }
    </script>
    <script src="../adminAssets/script/script.js"></script>
</body>

</html>